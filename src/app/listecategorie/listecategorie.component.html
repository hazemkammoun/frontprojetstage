<div class="container-fluid">
  <div class="panel panel-primary">
      <div class="panel-heading text-center"><h3>LISTE DES CATÉGORIES</h3></div>
      <div class="panel-body">
          <mat-list>
           
             
              <td> <button mat-raised-button color="success" (click)="evaluatebolean()"><b>Ajouter une catégorie</b></button></td>
           
              <mat-divider></mat-divider>
              <mat-divider></mat-divider>
              <mat-divider></mat-divider>
          </mat-list>
            
          <div class="container" *ngIf="mybolean">
              <h2>Nouvelle catégorie</h2>
              <form class="form-horizontal" action="/action_page.php" #addCategoryForm="ngForm">
                  
                  <div class="form-group">
                      <label class="control-label col-sm-2" for="nom">Nom:</label>
                      <div class="col-sm-10">
                          <input 
                              type="text" 
                              class="form-control" 
                              id="nom" 
                              placeholder="Entrez le nom" 
                              name="nom"  
                              [(ngModel)]="newcategorie.nom" 
                              required 
                              minlength="2" 
                              maxlength="50" 
                              #nom="ngModel"
                          />
                          <div *ngIf="nom.invalid && (nom.dirty || nom.touched)" class="text-danger">
                              <div *ngIf="nom.errors?.['required']">Le nom est requis.</div>
                              <div *ngIf="nom.errors?.['minlength']">Le nom doit comporter au moins 2 caractères.</div>
                              <div *ngIf="nom.errors?.['maxlength']">Le nom ne doit pas dépasser 50 caractères.</div>
                          </div>
                      </div>
                  </div>
                
                  <div class="form-group">
                      <div class="col-sm-offset-2 col-sm-10">
                          <button type="submit" class="btn btn-primary" [disabled]="addCategoryForm.invalid" (click)="addcat()">Submit</button>
                      </div>
                  </div>
              </form>
          </div>
            
          <table class="table table-bordered text-center" *ngIf="!mybolean">
              <thead>
                  <tr class="success">
                      <th>id</th>
                      <th>nom</th>
                      <th>Suppression</th>
                      <th>Mise à jour</th>
                  </tr>
              </thead>
              <tbody>
                  <tr *ngFor="let moncat of mescategorie">
                      <td>{{moncat.id}}</td>
                      <td>{{moncat.nom}}</td>
                      <td><button mat-raised-button color="warn" (click)="deletcategoriebyid(moncat.id)">Suppression</button></td>
                      <td><button mat-raised-button color="primary" (click)="categorieDetails(moncat.id)">Mise à jour</button></td>
                  </tr>
              </tbody>
          </table>

          <div class="panel panel-success" *ngIf="mybolean2">
              <div class="panel-heading text-center"><h3>Modification</h3></div>
              <div class="panel-body">
                  <div class="container">
                      <form (ngSubmit)="Update()" #form="ngForm">
                          <div class="form-group">
                              <label><b>Nom: </b></label>
                              <input 
                                  type="text" 
                                  class="form-control" 
                                  id="nom" 
                                  placeholder="Entrez le nom" 
                                  name="nom" 
                                  [(ngModel)]="categorieupdate.nom" 
                                  required 
                                  minlength="2" 
                                  maxlength="50" 
                                  #updateNom="ngModel"
                              />
                              <div *ngIf="updateNom.invalid && (updateNom.dirty || updateNom.touched)" class="text-danger">
                                  <div *ngIf="updateNom.errors?.['required']">Le nom est requis.</div>
                                  <div *ngIf="updateNom.errors?.['minlength']">Le nom doit comporter au moins 2 caractères.</div>
                                  <div *ngIf="updateNom.errors?.['maxlength']">Le nom ne doit pas dépasser 50 caractères.</div>
                              </div>
                          </div>
                          <mat-list>
                              <mat-divider></mat-divider>
                          </mat-list>
                          <button type="submit" mat-raised-button color="primary">Mettre àjour</button>
                          <mat-list>
                              <mat-divider></mat-divider>
                              <button type="submit" mat-raised-button color="warn" (click)="evaluatebolean2()">Annuler</button>
                          </mat-list>
                      </form>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>

