<div class="container-fluid">
  <div class="panel panel-primary">
      <div class="panel-heading text-center"><h3>LISTE DES SALLES</h3></div>
      <div class="panel-body">
          <mat-list>
            
              <td> <button mat-raised-button color="success" (click)="evaluatebolean()"><b>Ajouter une salle</b></button></td>
           
              <mat-divider></mat-divider>
              <mat-divider></mat-divider>
              <mat-divider></mat-divider>
          </mat-list>
          
          <div class="container" *ngIf="mybolean">
              <h2>Nouvelle salle</h2>
              <form class="form-horizontal"  #form="ngForm" #addsalleForm="ngForm" (ngSubmit)="adduser()">
                  <div class="form-group">
                      <label class="control-label col-sm-2" for="nom">Nom:</label>
                      <div class="col-sm-10">
                          <input type="text" class="form-control" id="nom" placeholder="Entrez le nom de la salle" name="nom"  [(ngModel)]="newsalle.nom" required minlength="2" maxlength="50">
                          <div *ngIf="form.controls['nom'].invalid && (form.controls['nom'].dirty || form.controls['nom'].touched)" class="text-danger">
                              <div *ngIf="form.controls['nom'].errors?.['required']">Le nom est requis.</div>
                              <div *ngIf="form.controls['nom'].errors?.['minlength']">Le nom doit comporter au moins 2 caractères.</div>
                              <div *ngIf="form.controls['nom'].errors?.['maxlength']">Le nom ne doit pas dépasser 50 caractères.</div>
                          </div>
                      </div>
                  </div>
                  <div class="form-group">
                      <label class="control-label col-sm-2" for="nombreDeSalle">Nombre de places:</label>
                      <div class="col-sm-10">
                          <input type="number" class="form-control" id="nombreDeSalle" placeholder="Entrez le nombre de places" name="nombreDeSalle" [(ngModel)]="newsalle.nombre_des_places" required>
                          <div *ngIf="form.controls['nombreDeSalle'].invalid && (form.controls['nombreDeSalle'].dirty || form.controls['nombreDeSalle'].touched)" class="text-danger">
                              <div *ngIf="form.controls['nombreDeSalle'].errors?.['required']">Le nombre de places est requis.</div>
                          </div>
                      </div>
                  </div>
              
                  <div class="form-group">
                      <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-primary" [disabled]="addsalleForm.invalid">Ajouter</button>
                      </div>
                  </div>
              </form>
          </div>
          
          <table class="table table-bordered text-center" *ngIf="!mybolean">
              <thead>
                  <tr class="success ">
                      <th class="text-center">ID</th>
                      <th class="text-center">Nom</th>
                      <th class="text-center">Nombre de places</th>
                      <th class="text-center">Suppression</th>
                      <th class="text-center">Mise à jour</th>
                  </tr>
              </thead>
              
              <tbody>
                  <tr *ngFor="let monsal of messalle">
                      <td>{{ monsal.id }}</td>
                      <td>{{ monsal.nom }}</td>
                      <td>{{ monsal.nombre_des_places }}</td>
                      <td><button mat-raised-button color="warn" (click)="deletsallebyid(monsal.id)">Suppression</button></td>
                      <td><button mat-raised-button color="primary" (click)="salleDetails(monsal.id)">Mise à jour</button></td>
                  </tr>
              </tbody>
          </table>
          
          <div class="panel panel-success" *ngIf="mybolean2">
              <div class="panel-heading text-center"><h3>Modification</h3></div>
              <div class="panel-body">
                  <div class="container">
                      <mat-list>
                          <mat-divider></mat-divider>
                          <mat-divider></mat-divider>
                          <mat-divider></mat-divider>
                      </mat-list>
                     
                      <form (ngSubmit)="Update()" #form="ngForm">
                          <div class="form-group">
                              <label><b>Nom:</b></label>
                              <input type="text" class="form-control" id="nom" placeholder="Entrez le nom de la salle" name="nom" [(ngModel)]="salleupdate.nom" required minlength="2" maxlength="50">
                              <div *ngIf="form.controls['nom'].invalid && (form.controls['nom'].dirty || form.controls['nom'].touched)" class="text-danger">
                                  <div *ngIf="form.controls['nom'].errors?.['required']">Le nom est requis.</div>
                                  <div *ngIf="form.controls['nom'].errors?.['minlength']">Le nom doit comporter au moins 2 caractères.</div>
                                  <div *ngIf="form.controls['nom'].errors?.['maxlength']">Le nom ne doit pas dépasser 50 caractères.</div>
                              </div>
                          </div>
                          <div class="form-group">
                              <label><b>Nombre de places:</b></label>
                              <input type="number" class="form-control" id="nombreDeSalle" placeholder="Entrez le nombre de places" name="nombreDeSalle" [(ngModel)]="salleupdate.nombre_des_places" required>
                              <div *ngIf="form.controls['nombreDeSalle'].invalid && (form.controls['nombreDeSalle'].dirty || form.controls['nombreDeSalle'].touched)" class="text-danger">
                                  <div *ngIf="form.controls['nombreDeSalle'].errors?.['required']">Le nombre de places est requis.</div>
                              </div>
                          </div>
                          <mat-list>
                              <mat-divider></mat-divider>
                          </mat-list>
                          <button type="submit" mat-raised-button color="primary">Mettre à jour</button>
                          <mat-list>
                              <mat-divider></mat-divider>
                              <button type="submit" mat-raised-button color="warn" (click)="evaluatebolean2()">Annuler</button>
                          </mat-list>
                      </form>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>
